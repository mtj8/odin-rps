<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>

    <div class="rps-ui">
        <h1>Make your choice:</h1>
        <div class="rps-ui-buttons">
            <button id="rock">Rock</button>
            <button id="paper">Paper</button>
            <button id="scissors">Scissors</button>
        </div>
    </div>
    <div class="rps-ui-score">
        <div class="rps-ui-score-log">
            <ul>

            </ul>
        </div>
    </div>

    <script>
        function getComputerChoice() {
            const choice = Math.floor(Math.random() * 3);
            if (choice === 1) {
                return "rock";
            }
            else if (choice === 2) {
                return "paper";
            }
            else { return "scissors"; } // 0
        }

        // select human choice with buttons
        let rpsButtons = document.querySelectorAll("button");
        rpsButtons.forEach((button) => {
            button.addEventListener("click", () => {
                playRound(button.id, getComputerChoice());
            });
        });


        let scoreLimit = 5;
        let humanScore = computerScore = 0;

        const rpsScoreDiv = document.querySelector(".rps-ui-score");
        let rpsScore = document.createElement("p");
        rpsScore.textContent = `Human: ${humanScore} | Computer: ${computerScore}`;
        rpsScoreDiv.appendChild(rpsScore);

        let rpsScoreLog = document.querySelector(".rps-ui-score-log ul");
        let rpsVictory = document.createElement("p");
        rpsVictory.textContent = "";

        function playRound(humanChoice, computerChoice) {
            const r = "Rock";
            const p = "Paper";
            const s = "Scissors";

            let rpsCurrentRound = document.createElement("p");

            if (humanChoice === r.toLowerCase()) {
                if (computerChoice === r.toLowerCase()) { 
                    rpsCurrentRound.textContent = `Tie with ${r}`;
                }
                else if (computerChoice === p.toLowerCase()) {
                    rpsCurrentRound.textContent = `You Lose! ${p} beats ${r}`;
                    computerScore++;
                }
                else {
                    rpsCurrentRound.textContent = `You Win! ${r} beats ${s}`;
                    humanScore++;
                }
            }
            else if (humanChoice === p.toLowerCase()) {
                if (computerChoice === r.toLowerCase()) { 
                    rpsCurrentRound.textContent = `You Win! ${r} beats ${p}`;
                    humanScore++;
                    
                }
                else if (computerChoice === p.toLowerCase()) {
                    rpsCurrentRound.textContent = `Tie with ${p}`;
                }
                else {
                    rpsCurrentRound.textContent = `You Lose! ${s} beats ${p}`;
                    computerScore++;
                }
            }
            else if (humanChoice === s.toLowerCase()){
                if (computerChoice === r.toLowerCase()) { 
                    rpsCurrentRound.textContent = `You Lose! ${r} beats ${s}`;
                    computerScore++;
                    
                }
                else if (computerChoice === p.toLowerCase()) {
                    rpsCurrentRound.textContent = `You Win! ${s} beats ${p}`;
                    humanScore++;
                }
                else {
                    rpsCurrentRound.textContent = `Tie with ${s}`;
                }
            }

            rpsScoreLog.append(rpsCurrentRound);

            rpsScore.textContent = `Human: ${humanScore} | Computer: ${computerScore}`;
            rpsScoreDiv.appendChild(rpsScore);

            if (humanScore === scoreLimit) {
                rpsVictory.textContent = "Human wins!";
            }
            else if (computerScore === scoreLimit) {
                rpsVictory.textContent = "Computer wins!";
            }

            if (rpsVictory.textcontent !== '') { rpsScoreDiv.append(rpsVictory); }
        }

    </script>

</body>
</html>